syntax = "proto3";

package rating.poutine.v1;

import "buf/validate/validate.proto";

option go_package = "github.com/dduzgun-security/jug/jug-model/jug-model-go/rating/poutine/v1;poutinev1";
option java_package = "com.rating.poutine.v1";
option java_multiple_files = true;

message Poutine {
    string restaurant = 1 [
        (buf.validate.field).required = true,
        (buf.validate.field).string.max_len = 128
    ];
    uint32 cheese_squeakiness = 2 [
        (buf.validate.field).required = true,
        (buf.validate.field).uint32.gte = 0,
        (buf.validate.field).uint32.lte = 10
    ];
    uint32 gravy_thickness = 3 [
        (buf.validate.field).required = true,
        (buf.validate.field).uint32.gte = 0,
        (buf.validate.field).uint32.lte = 10
    ];
    uint32 fries_crispiness = 4 [
        (buf.validate.field).required = true,
        (buf.validate.field).uint32.gte = 0,
        (buf.validate.field).uint32.lte = 10
    ];
    string size = 5 [
        (buf.validate.field).required = true,
        (buf.validate.field).string.pattern = "^(Small|Medium|Large|X-Large)$"
    ];
    string comments = 6 [
        (buf.validate.field).required = true,
        (buf.validate.field).string.max_len = 500
    ];
}

message PoutineRequest {
    Poutine poutine = 1;
}

message PoutineResponse {
    string message = 1;
    float average_score = 2;
}